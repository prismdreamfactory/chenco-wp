"use strict";var _this=void 0;function debounced(o,n){var s=void 0;return function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];s&&clearTimeout(s),s=setTimeout(function(){n.apply(void 0,t),s=null},o)}}function getParameterByName(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}!function(l){l(window),l("#page");l("a.smooth-scroll").on("click",function(){document.querySelector(_this.href).scrollIntoView({behavior:"smooth"})});function e(){var e=getParameterByName("tab");l(".tabs").length&&l("[data-tab]").on("click",function(e){l(this).addClass("active").siblings("[data-tab]").removeClass("active"),l(".tab-container").find("[data-content="+l(this).data("tab")+"]").addClass("active").siblings("[data-content]").removeClass("active"),e.preventDefault()}),l(".tabs--firm").length&&l("[data-tab]").on("click",function(e){1===l(this).data("tab")?l(this).parent().removeClass("tabs-nav--alt"):2===l(this).data("tab")?(l(this).parent().addClass("tabs-nav--alt"),l(".edge__circle").each(function(e){var t=l(this).find(".edge__circle-number"),a=t.html();t.countTo({from:0,to:a,speed:500,refreshInterval:50,onUpdate:function(){console.debug(this)},onComplete:function(){console.debug(this)}})})):l(this).parent().addClass("tabs-nav--alt")}),l("[data-tab-name="+e+"]").trigger("click")}var c={usa:[38.901187,-110.914306],asia:[28.441223,-238.391588],global:[40.141496,-168.588005]};function t(e){var t=l("#map"),o=(l(".marker"),l(".marker[data-current=1]")),n=l(".marker[data-current=0]"),a=l(window).width()<=768?{minZoom:2,maxZoom:9,zoom:2,center:new google.maps.LatLng(c.usa[0],c.usa[1]),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,zoomControl:!0,styles:e}:{minZoom:3,maxZoom:9,zoom:3,center:new google.maps.LatLng(c.global[0],c.global[1]),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,zoomControl:!0,streetViewControl:!1,styles:e},s=new google.maps.Map(t[0],a);s.markers=[],m(o,s),function(a){var o=l(".map__tab");l(".map__legend-region");o.each(function(){var t=this;l(this).on("click",function(){var e=l(t).data("center");"asia"===e?l(".map__legend").hide():l(".map__legend").show(),o.removeClass("mod--active"),l(t).addClass("mod--active"),"global"===e?a.setZoom(3):a.setZoom(5),a.setCenter(new google.maps.LatLng(c[e][0],c[e][1]))})})}(s);var i=[0,0,0,0],r=l(".map__switch-item");return r.each(function(){var t=l(this),a=t.data("current");t.on("click",function(){r.removeClass("mod--active"),t.addClass("mod--active");for(var e=0;e<s.markers.length;e++)s.markers[e].setMap(null);s.markers=[],m(a?o:n,s),d(s,i)})}),s.addListener("bounds_changed",debounced(200,function(){return d(s,i)})),s}function d(e,o){o=[0,0,0,0];for(var t=0;t<e.markers.length;t++)if(e.getBounds().contains(e.markers[t].getPosition()))for(var a=0;a<o.length;a++)o[a]+=Number(e.markers[t].title.split(",")[a]);l(".map__legend-row span:first-child i").each(function(e){var t=l(this),a=parseFloat(t.text().replace(/,/g,""));t.html()!==o[e]&&t.countTo({from:a,to:o[e],speed:500,refreshInterval:50,formatter:function(e,t){return e=(e=e.toFixed(t.decimals)).replace(/\B(?=(\d{3})+(?!\d))/g,",")},onUpdate:function(){console.debug(this)},onComplete:function(){console.debug(this)}})})}function m(e,t){var a=new google.maps.InfoWindow({maxWidth:400});e.each(function(){!function(e,t,a){function o(e,t){return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+t+'" viewBox="0 0 '+t+" "+t+'"><circle cx="'+t/2+'" cy="'+t/2+'" r="'+t/2+'" fill="'+e+'"/></svg>'}var n=new google.maps.LatLng(e.data("lat"),e.data("lng")),s=e.data("type").toLowerCase(),i={office:"rgb(37, 79, 123)",multifamily:"rgb(191, 144, 1)",land:"rgb(87, 135, 171)",industrial:"rgb(121, 175, 153)"},r=new google.maps.Marker({position:n,map:t,icon:l(window).width()<=768?o(i[s],10):o(i[s],14),title:e.data("stats").toString()});t.markers.push(r),e.html()&&(google.maps.event.addListener(t,"click",function(e){a.close()}),r.addListener("click",function(){a.setContent(e.html()),a.open(t,r)}))}(l(this),t,a)})}l(function(){l("a.login-link").on("click",function(e){var t=l("div.login-modal").data("modal");t&&0<t.length&&(e.preventDefault(),t.reveal({modalbgclass:"lwa-modal-bg",dismissmodalclass:"lwa-modal-close"}))}),e(),l(".slick").length&&l(".slick").slick({autoplay:!0,autoplaySpeed:3e3,dots:!0,arrows:!0,infinite:!0,slidesToShow:1}),l(".partners__toggle").change(function(e){e.preventDefault(),l(".tabs").removeClass("active"),l(".tab-container").removeClass("active"),l(".tabs--"+l(this).val()).addClass("active"),l(".tab-container--"+l(this).val()).addClass("active")}),l("select").select2({minimumResultsForSearch:"Infinity"}),l("#map").length&&l.getJSON("/wp-content/themes/chenco/js/map-styles.json",function(e){t(e)}),l("body, html").animate({scrollTop:0},0),l("body").hasClass("touch")})}(jQuery);